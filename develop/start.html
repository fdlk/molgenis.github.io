<!DOCTYPE html><!--[if lt IE 8]><html lang="en" class="ie"><![endif]--><!--[if gt IE 8]><!--><html lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>MOLGENIS - Start</title><meta name="description" content="Getting, compiling and running the code"><meta name="author" content="MOLGENIS community"><meta name="handheldfriendly" content="true"><meta name="mobileoptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="cleartype" content="on"><script src="/res/js/jquery-1.11.3.min.js"> </script><script src="/res/js/bootstrap.min.js"></script><link rel="stylesheet" href="/res/css/prism.css"><link rel="stylesheet" href="/res/css/application.css" type="text/css"><link rel="shortcut icon" href="/favicon.png" type="image/png"><link rel="alternate" type="application/rss+xml" href="/blog/feed.xml" title="undefined"></head><body><header class="molgenis-docs-header"><div role="navigation" class="navbar navbar-fixed-top"><div class="header-container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand active"><img src="/res/images/wordmark-blue.png" alt="undefined" class="wordmark"/></a></div><div class="collapse navbar-collapse">              <ul class="nav navbar-nav"><li><a href="/software">TOOLS</a></li><li><a href="/documentation">DOCUMENTATION</a></li><li><a href="/pipelines">PIPELINES</a></li><li class="active"><a href="/develop">DEVELOP</a></li><li><a href="/support">SUPPORT</a></li><li><a href="#searchbox" data-toggle="collapse"><i class="glyphicon glyphicon-search"></i></a></li></ul></div></div></div><div id="searchbox" class="collapse"><form role="search" action="/search-results"><input placeholder="Search" name="q" class="form-control"/></form></div><div class="molgenis-docs-titlebar active"><div class="container"> <h1>Start</h1><p>Getting, compiling and running the code   </p></div></div></header><div class="molgenis-docs-body"><div class="container"><div class="row"><div role="complementary" class="col-md-3"><nav id="molgenis-docs-sidebar" class="molgenis-docs-sidebar hidden-print hidden-xs hidden-sm"><ul id="molgenis-docs-sidenav" class="nav molgenis-docs-sidenav"></ul></nav><script>$(function() {
    var sideNav = $("#molgenis-docs-sidenav");
    var index = 0;
    $(".row h1").each(function() {
        
        //create id for h1
        var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
        $(this).prepend("<a name=\""+id+"\"></a>");
        
        //add h1 to list
        var li = $("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>")
        sideNav.append(li);
        
        //wrap h1 into section
        var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
        //wrap parts of h1 into one section
        $(this).parent().nextUntil("h1").each(function(){            
            section.append($(this));
        });
        
        //repeat for h2
        if($("h2",$(this).parent()).length > 0) {
            var ul = $("<ul class=\"nav\"></ul>");
            li.append(ul);
            
            $("h2",$(this).parent()).each(function(){
            
                //create id for h2
                var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
                $(this).prepend("<a name=\""+id+"\"></a>");
        
                //wrap h2 into section
                var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
                ul.append($("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>"));
        
                //wrap parts of h2 into one section
                $(this).parent().nextUntil("h2").each(function(){            
                    section.append($(this));
                });
            

            });
        }
    });    
    
    //add "back to top"
    sideNav.append("<li><a href=\"#top\" style=\"font-size:smaller\">Back to top</a></li>");
    var $body   = $(document.body);
    
    //enable the 'active' highlighting using scrollspy plugin
    $('body').scrollspy({
        target: '#molgenis-docs-sidebar'
    });
    $('#molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
    
    //enable affix
    $('#molgenis-docs-sidebar').affix({
        offset: {
            top: $('#molgenis-docs-sidebar').offset().top,
            bottom: $('.molgenis-docs-footer').outerHeight(true) + 10
        }
    });
    
    //resize affix box when window resizes
    $(window).resize(function () {
            $('.molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
        });
    
    $("table").addClass("table table-bordered");
});</script></div><div role="main" class="col-md-9 contents"><p><strong>
This document explains how to get the code, install the necessary software and compile/run for the first time
</strong></p>
<h1>Software needed</h1><p>install java8 JDK (not JRE) from <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></p>
<p>install eclipse (we used Luna) from <a href="https://www.eclipse.org/downloads/">https://www.eclipse.org/downloads/</a>
(or use <a href="./intellij.html">IntelliJ</a>)</p>
<p>install mysql from (we used 5.6.23 DMG) <a href="http://dev.mysql.com/downloads/mysql/">http://dev.mysql.com/downloads/mysql/</a></p>
<p>install git from <a href="http://git-scm.com/download/">http://git-scm.com/download/</a></p>
<h1>Configure mysql</h1><p>open terminal and start mysql client (command differs in Windows, Linux, Mac): </p>
<pre><code>/usr/local/mysql/bin/mysql -u root
</code></pre><p>Note, if not running you can start the MySQL server from the System Preferences</p>
<p>in mysql client create database and permissions via command:</p>
<pre><code>create database omx;
grant all privileges on omx.* to molgenis@localhost identified by &#39;molgenis&#39;;
flush privileges;
</code></pre><h1>Configure Eclipse</h1><p>start Eclipse</p>
<p>when asked, create fresh workspace folder (not same folder as git!)</p>
<p>go to &#39;Help&#39; -&gt; &#39;Eclipse market place&#39;</p>
<p>find and install plugins:</p>
<ul>
<li>&#39;JBoss Tools&#39;, during install only select Freemarker IDE</li>
<li>&#39;TestNG for Eclipse&#39;</li>
<li>&#39;m2e-apt&#39;</li>
</ul>
<p>Restart (if you didn&#39;t do that already)</p>
<p>go to &#39;Eclipse&#39; -&gt; &#39;Preferences&#39; </p>
<ul>
<li>&#39;installed JREs&#39; and select &#39;java 8&#39;</li>
<li>&#39;Maven&#39; -&gt; &#39;Annotation Processing&#39; and select &#39;Automatically Configure JDT APT&#39;</li>
</ul>
<p>Restart</p>
<h1>Get the code</h1><p>create acount on github.com </p>
<p>&#39;fork&#39; on <a href="http://github.com/molgenis/molgenis">http://github.com/molgenis/molgenis</a></p>
<p>copy the cloneURL</p>
<p>open terminal (mkdir if needed) and type </p>
<pre><code>cd ~/git 
git clone http://github.com/[YOURACCOUNT]/molgenis
</code></pre><p>Optionally select stable molgenis version:</p>
<pre><code>git fetch --tags origin
git checkout -b &lt;tag name: see https://github.com/molgenis/molgenis/releases&gt;
</code></pre><p>More information about forking can be found here: <a href="https://help.github.com/articles/fork-a-repo">https://help.github.com/articles/fork-a-repo</a></p>
<h1>Set admin password<a name="server-props"></a></h1><p>Create directory ~/.molgenis/omx/</p>
<pre><code>mkdir -p ~/.molgenis/omx/
</code></pre><p>Create the file ~/.molgenis/omx/molgenis-server.properties </p>
<pre><code>nano ~/.molgenis/omx/molgenis-server.properties
</code></pre><p>... and add user and database properties to this file:</p>
<pre><code>db_user=molgenis
db_password=molgenis
db_uri=jdbc:mysql://localhost/omx
admin.password=admin
user.password=admin
</code></pre><p>If these properties are not present, the MolgenisDatabasePopulator will fail (RuntimeException). This properties-file
should be in your home folder, if the file is not there yet, just create it.</p>
<h1>Start MOLGENIS</h1><p>In eclipse, if still open, close the &#39;Welcome&#39; screen.</p>
<p>Choose &#39;File&#39; -&gt; &#39;Import&#39; -&gt; &#39;Import existing Maven projects&#39;</p>
<p>Browse to your /git/molgenis directory </p>
<p>Select it, you will then be prompted to install some maven connectors, accept these 
(else MOLGENIS will not build properly in eclipse)</p>
<p>Right mouse &#39;molgenis&#39; -&gt; Run as -&gt; Maven build ... 
    In Goals type: clean install. 
    Under Goals check Update Snapshots and Resolve Workspace artifacts. 
    In the JRE tab, add the VM arguments: </p>
<pre><code>```
-Xmx2g -Des.discovery.zen.ping.multicast.enabled=false -Des.network.host=localhost
```
Click run
</code></pre><p>Right mouse &#39;molgenis-app&#39; -&gt; Run as -&gt; Maven build ... 
    in goals type &#39;jetty:run&#39; 
    In the JRE tab, add the VM arguments:</p>
<pre><code>```
-Xmx2g -Des.discovery.zen.ping.multicast.enabled=false -Des.network.host=localhost
```
Click run
</code></pre><p>Open your browser at <a href="http://localhost:8080/">http://localhost:8080/</a></p>
<p>You should see the application. Login as &#39;admin&#39;, &#39;admin&#39; to be able to upload and view data, create users, etc etc.</p>
<h1>Update your code</h1><p>Add the original molgenis repository as a remote location.</p>
<pre><code>cd ~/git/molgenis
git remote add blessed https://github.com/molgenis/molgenis.git
</code></pre><p>Perform regular updates so the latest changes are merged with your local clone.</p>
<pre><code>git pull blessed master
</code></pre><p>And push back any merges or commits of your own to your online fork.</p>
<pre><code>git push origin master
</code></pre><h2>Security</h2><p>See also the <a href="./security">MOLGENIS Security settings</a></p>
<h1>Troubleshooting</h1><h2>When I build I get maven build error &#39;env not available&#39;.</h2><p>Solution: start Eclipse from commandline.</p>
<h2>When I try to start an application, the console tells me &#39;Address already in use&#39;!</h2><p>Run the Maven target &#39;jetty:stop&#39;. If that does not help, use your operating systems process manager to kill anything running on port 8080. For example:</p>
<pre><code>kill -9 `lsof -i :8080 -t`
</code></pre><center><br><i>See something that could be better? <a href="https://github.com/molgenis/molgenis.org/tree/master/public/develop/start.md">Edit this page at Github</a></i><br></center></div></div></div></div><footer class="molgenis-docs-footer"><p>MOLGENIS and these docs are maintained by the <a href="http://www.gccgroningen.nl/about-us/people-at-the-gcc/">MOLGENIS team and collaborators</a>. <br/> Documentation source code released under the <a href="/LICENSE-MIT">MIT License</a>, documentation contents under <a href="/LICENSE-CC">CC BY 3.0</a>, and MOLGENIS software code under the <a href="/LICENSE-LGPLv3">LGPLv3 License</a>.<ul class="text-muted"><li>Version 1.8.0</li><li>·</li><li><a href="https://github.com/molgenis/molgenis">MOLGENIS Github</a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis/issues">MOLGENIS Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis.org/tree/master/public">Docs Github    </a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis.org/issues">Docs Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis/releases">Releases</a></li></ul></p></footer><script src="/res/js/prism.js"></script></body></html>