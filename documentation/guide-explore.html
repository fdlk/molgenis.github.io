<!DOCTYPE html><!--[if lt IE 8]><html lang="en" class="ie"><![endif]--><!--[if gt IE 8]><!--><html lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>MOLGENIS - Explore</title><meta name="description" content="Search and visualize your data"><meta name="author" content="MOLGENIS community"><meta name="handheldfriendly" content="true"><meta name="mobileoptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="cleartype" content="on"><script src="/res/js/jquery-1.11.3.min.js"> </script><script src="/res/js/bootstrap.min.js"></script><link rel="stylesheet" href="/res/css/prism.css"><link rel="stylesheet" href="/res/css/application.css" type="text/css"><link rel="shortcut icon" href="/favicon.png" type="image/png"><link rel="alternate" type="application/rss+xml" href="/blog/feed.xml" title="undefined"></head><body><header class="molgenis-docs-header"><div role="navigation" class="navbar navbar-fixed-top"><div class="header-container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand active"><img src="/res/images/wordmark-blue.png" alt="undefined" class="wordmark"/></a></div><div class="collapse navbar-collapse">              <ul class="nav navbar-nav"><li><a href="/software">TOOLS</a></li><li class="active"><a href="/documentation">DOCUMENTATION</a></li><li><a href="/pipelines">PIPELINES</a></li><li><a href="/develop">DEVELOP</a></li><li><a href="/support">SUPPORT</a></li><li><a href="#searchbox" data-toggle="collapse"><i class="glyphicon glyphicon-search"></i></a></li></ul></div></div></div><div id="searchbox" class="collapse"><form role="search" action="/search-results"><input placeholder="Search" name="q" class="form-control"/></form></div><div class="molgenis-docs-titlebar active"><div class="container"> <h1>Explore</h1><p>Search and visualize your data   </p></div></div></header><div class="molgenis-docs-body"><div class="container"><div class="row"><div role="complementary" class="col-md-3"><nav id="molgenis-docs-sidebar" class="molgenis-docs-sidebar hidden-print hidden-xs hidden-sm"><ul id="molgenis-docs-sidenav" class="nav molgenis-docs-sidenav"></ul></nav><script>$(function() {
    var sideNav = $("#molgenis-docs-sidenav");
    var index = 0;
    $(".row h1").each(function() {
        
        //create id for h1
        var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
        $(this).prepend("<a name=\""+id+"\"></a>");
        
        //add h1 to list
        var li = $("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>")
        sideNav.append(li);
        
        //wrap h1 into section
        var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
        //wrap parts of h1 into one section
        $(this).parent().nextUntil("h1").each(function(){            
            section.append($(this));
        });
        
        //repeat for h2
        if($("h2",$(this).parent()).length > 0) {
            var ul = $("<ul class=\"nav\"></ul>");
            li.append(ul);
            
            $("h2",$(this).parent()).each(function(){
            
                //create id for h2
                var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
                $(this).prepend("<a name=\""+id+"\"></a>");
        
                //wrap h2 into section
                var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
                ul.append($("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>"));
        
                //wrap parts of h2 into one section
                $(this).parent().nextUntil("h2").each(function(){            
                    section.append($(this));
                });
            

            });
        }
    });    
    
    //add "back to top"
    sideNav.append("<li><a href=\"#top\" style=\"font-size:smaller\">Back to top</a></li>");
    var $body   = $(document.body);
    
    //enable the 'active' highlighting using scrollspy plugin
    $('body').scrollspy({
        target: '#molgenis-docs-sidebar'
    });
    $('#molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
    
    //enable affix
    $('#molgenis-docs-sidebar').affix({
        offset: {
            top: $('#molgenis-docs-sidebar').offset().top,
            bottom: $('.molgenis-docs-footer').outerHeight(true) + 10
        }
    });
    
    //resize affix box when window resizes
    $(window).resize(function () {
            $('.molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
        });
    
    $("table").addClass("table table-bordered");
});</script></div><div role="main" class="col-md-9 contents"><p><strong>
One of the central plugins for many of the MOLGENIS databases is the data explorer. As the name suggests this is the plugin to use if you wish to take a close look at your data.
</strong></p>
<p>Note that some of the components described below are only shown if they are enabled in the application settings and to people with the appropriate permissions.</p>
<h1>Select entity</h1><p>At the top of the data explorer the name of the currently selected entity is shown as well as the description.</p>
<p>In the top right corner, a dropdown is shown which can be used to select the entity you wish to display.
For admins a delete button is shown at the right side of the entity select, clicking it will allow you to choose if you which to delete only the data or also the metadata for the currently selected entity.</p>
<p><img src="/res/images/dataexplorer/entitySelect.png?raw=true," alt="Dataexplorer entity select" title="dataexplorer/entitySelect"></p>
<h1>Search/Filter</h1><p>In the upper left corner of the data explorer is a search box, this search box can be used to search all your data for a certain search term.</p>
<p><img src="/res/images/dataexplorer/searchbox.png?raw=true," alt="Dataexplorer search" title="dataexplorer/searchbox"></p>
<p>Directly below the search box the currently active attribute filters are shown. By clicking on them they can be edited. The cross trailing every filter can be used to delete this filter. Filters can be set from the attribute selection tree which is described below.
Using the checkbox in front of each attribute the visibility of this attribute in the table can be managed. The filter icon can be used to set filters for this specific attribute.</p>
<p><img src="/res/images/dataexplorer/active_filters.png?raw=true," alt="Dataexplorer active filters" title="dataexplorer/active_filters"></p>
<p>In the area with the active filters you will also find the button to open the filter wizard, this is a popup screen that allows you to add filters for different attributes in one go.</p>
<p><img src="/res/images/dataexplorer/filterwizard.png?raw=true," alt="Dataexplorer filter wizard" title="dataexplorer/filterwizard"></p>
<h1>Different views</h1><p><img src="/res/images/dataexplorer/dataexplorer_tabs.png?raw=true," alt="Dataexplorer tabs" title="dataexplorer/dataexplorer_tabs"></p>
<p>The data explorer consists of multiple modules to view or process the data in different ways. These modules are described below:</p>
<h1>Data table</h1><p>The data module shows the data in a table, the table can be sorted by clicking on the headers.
If your data contains references to other entities, an icon is shown to expand this reference to show the data from the referenced entity.</p>
<p>Every line starts, depending on your permissions with some action icons:</p>
<p><img src="/res/images/dataexplorer/action_buttons.png?raw=true," alt="Dataexplorer action buttons" title="dataexplorer/action_buttons"></p>
<ul>
<li>Add row:
Using this button will open a form with inputs for all the attributes in the entity, allowing you to create a new entity.
All fields will be validated based on their datatype, for example &quot;test&quot; is not a valid email address.</li>
<li>Edit row:
Same as the add row button, but with prefilled inputs to allow you to edit an entity.</li>
<li>Inspect row:
This button will open a form with a custom made report for this row. Different reports can be created, when you have a permission to write to the FreemarkerTemplate entity.</li>
<li>Delete row:
This button can be used to remove a row from the entity.</li>
</ul>
<h1>Download</h1><p>At the bottom of the table there is a download button, which will allow you to save the data to a CSV of XLS file. Depending on the purpose of the download, identifiers or labels can be used as column headers. Probably the data is safest inside molgenis!
Another button will allow you to send your data to a <a href="https://galaxyproject.org/" title="Galaxy">galaxy</a> server.</p>
<p><img src="/res/images/dataexplorer/download_export.png?raw=true," alt="Dataexplorer download" title="dataexplorer/download_export"></p>
<h1>Genome browser</h1><p><img src="/res/images/dataexplorer/genome_browser.png?raw=true," alt="Dataexplorer first screen" title="dataexplorer/genome_browser"></p>
<p>If a selected entity has chromosome and position attribute the genome browser will be shown. The browser used by MOLGENIS is the <a href="http://www.biodalliance.org" title="Dalliance">Dalliance</a> genome browser.
Clicking on a row in the data table will make the genome browser zoom to the coordinates of that row.
A button (&#39;apply filters&#39;) is available at the bottom of the genome browser to filter the data table based on the coordinates currently in shown in the genome browser.</p>
<h2>Try it out</h2><p>Upload the <a href="/data/Documentation_VCF.vcf" title="VCF example file">vcf_example_file</a> using the importer.
Let&#39;s select an entity containing genomic variants by selecting the entity name you just chose for the upload in the entity select.
Let&#39;s assume we have a specific location we are interested in, say position 103214569 at chromosome 7, so we&#39;d like to search for that specific line in the entity.
Let&#39;s first use the search box to see if we can find the line that way:
enter &quot;103214569&quot; in the search box and press enter.</p>
<p>But now we like to take a look at all variation on chromosome 7. As you can imagine searching for &quot;7&quot; in all the attributes in the data will give us a lot of results we are not looking for. So we&#39;d like to filter for this value specifically for the chromosome attribute.</p>
<p>Click the filter icon in front of &quot;#CHROM&quot; in the attribute selection tree and enter &quot;8&quot; in the input field then click &quot;apply&quot;
However we meant to search for chromosome 7, so let&#39;s click the filter in the active filters box, and change the value to 7.
We now have all the values for chromosome 7 in the table, however the results are divided over several pages of results, we&#39;d like to view them all in one screen; click the &quot;rows per page&quot; dropdown below the table and select &quot;100&quot; this will show 100 results per page.
The &quot;FILTER&quot; column shows the same value for every line, we are not interested in this column so let&#39;s hide it by clicking the checkbox in front of &quot;#CHROM&quot; in the attribute selection tree.</p>
<p>Click any column header in the table to sort the data based on that column, click again to sort in the opposite direction.
Click one of the lines in the data table to zoom to the position of this variant in the genome browser.
Click the symbol in front of the &quot;SAMPLES&quot; column header to show the columns belonging to the samples.</p>
<p>Click the magnifying glass in front of the dataline to show a report for that line. The default report is just showing all attribute values in a structured way. However, as stated above, all kinds of reports can be added at runtime.</p>
<h1>Inline editing</h1><p>Click the edit icon and change the chromosome from 7 to 8 and save.
Adding a row works the same way, only without the prefilled fields.
Now let&#39;s click the red garbage bin icon in front of a line to delete this line from the entity.</p>
<p>TODO: add figure</p>
<h1>Annotators</h1><p>The annotator module of the data explorer is the user interface to use the MOLGENIS annotator framework, which can also be used from the command-line.
The annotator framework is a system to add data from other resources to your genomic entities. For example pathogenicity prediction, allele frequencies and phenotype information.</p>
<p><img src="/res/images/dataexplorer/annotators.png?raw=true," alt="Dataexplorer annotators" title="dataexplorer/annotators"></p>
<p>The screen shows a list of available annotators that can be used. Clicking the title of the annotator will result in a popup with additional information such as a general description and a listing of the attributes that will be added by this annotator.
Using the checkboxes multiple annotators can be selected for one run, which is started by clicking the &quot;annotate&quot; button. If preferred a copy of the dataset can be created with the annotations added to this copy, leaving the original entity as it is.
Annotated fields will be added to the entity in a compound attribute.</p>
<p>On the right hand side of the screen a list of unavailable annotators is shows, the reason why they are unavailable is shown in the list, this can for example be due to a resource being unavailable or an attribute needed to map the entity and resource to each other missing.
The gear icon trailing every annotator in the list can be used to configure the settings for this annotator.</p>
<h1>Aggregation</h1><p>The aggregation module allows you to produce aggregated counts for queries on the data.</p>
<p>The screen has 2 areas, the controls and the results, the controls allow you to choose the attributes you wish to use for the aggregation.</p>
<p><img src="/res/images/dataexplorer/aggregate_controls.png?raw=true," alt="Dataexplorer aggregates" title="dataexplorer/aggregates"></p>
<p>You can select 1 attribute for simple one dimensional counts, represented as a table with one column, or two attributes to get a 2 dimensional aggregate table.
A third dropdown allows you to select an attribute by which to group the results.</p>
<p><img src="/res/images/dataexplorer/aggregate_result_table.png?raw=true," alt="Dataexplorer aggregate results" title="dataexplorer/aggregateresults"></p>
<p>These functionalities are best explained by the example in the &quot;try it out section below&quot;.</p>
<h2>try it out</h2><p>Upload <a href="/data/Documentation_EMX.xlsx" title="EMX example file">emx_example_file</a> through the importer.
Navigate to the data explorer and select the aggregates tab. Select the just uploaded &quot;biobanks&quot; entity.</p>
<p>Now select &quot;patientid&quot; in the entity dropdown.
You now get a 1 dimensional list of counts, showing you that every patient has 3 entries in the selected entity</p>
<p>Now select &quot;biobank&quot; in the first aggregate dropdown and in the second select &quot;sampletype&quot;
You now get a table representing the amount of samples in both biobanks per type.</p>
<p>Finally select &quot;patientid&quot; in the third dropdown, the distinct attribute. 
The table will update to show you to show you how many patients with at least one sample of a specific type are available in a biobank.</p>
<h1>Charts</h1><p>For the chart capabilities of MOLGENIS we use the <a href="http://www.highcharts.com" title="Highcharts">Highcharts</a> library.</p>
<p>MOLGENIS currently offers two types of plots for your data, the scatter plot and the box plot.</p>
<p><img src="/res/images/dataexplorer/charts.png?raw=true," alt="Dataexplorer charts" title="dataexplorer/charts"></p>
<h2>scatter plot <a href="https://en.wikipedia.org/wiki/Scatter_plot" title="Scatter plot">Scatter_plot</a></h2><p><img src="/res/images/dataexplorer/create scatter plot.png?raw=true," alt="Dataexplorer charts create scatterplot" title="dataexplorer/scatterplot"></p>
<p>For the scatterplot 2 attributes are selected to make the plot, optionally a third attribute can be selected to split the dots in groups using different shapes and colours per group. Optionally you can provide a title for your plot.</p>
<p><img src="/res/images/dataexplorer/scatter plot.png?raw=true," alt="Dataexplorer charts scatterplot" title="dataexplorer/scatterplot"></p>
<h2>box plot <a href="https://en.wikipedia.org/wiki/Box_plot" title="Box plot">Box_plot</a></h2><p><img src="/res/images/dataexplorer/create box plot.png?raw=true," alt="Dataexplorer aggregate create box plot" title="dataexplorer/createboxplot"></p>
<p>For the box plot 1 attribute (feature) is to be selected to make the plot, optionally a second attribute can be selected to split the dots in groups. Optionally you can provide a title for your plot.</p>
<p><img src="/res/images/dataexplorer/boxplot.png?raw=true," alt="Dataexplorer charts box plot" title="dataexplorer/boxplot"></p>
<h1>Reports</h1><p>The reports functionality is made for overriding the default instance view or to add an instances tab in the Data-explorer. Overriding the views or adding a tab is possible by creating a new <code>FreemarkerTemplate</code> entity with the right name convention. In this short tutorial I will show you how to achieve this.</p>
<p>There are two ways to create your own reports: </p>
<ol>
<li>Overriding the default instance view.</li>
<li>Add one or more instances view tabs.</li>
</ol>
<p>You will need:</p>
<ol>
<li>A data set: &quot;Advanced data example&quot; (<a href="/data/advanced_data_example_v20151104.xlsx">download</a>). Upload this dataset into your MOLGENIS instance see the <a href="guide-upload">Upload guide</a>.</li>
</ol>
<h6>Override the entity view</h6><p>Steps:</p>
<ol>
<li>Go to the Data Explorer</li>
<li>Select the &quot;cities&quot; entity via the entity select dropdown.</li>
<li>The entity view modal is opened when you click on the <img src="/res/images/reports/view-entityreport-button.png?raw=true," alt="View entity report button" title="Entity view"> button&quot;.</li>
<li>The default view will be: <img src="/res/images/reports/default-entityreport-view.png?raw=true," alt="View entity report default" title="Entity view"></li>
<li>Let&#39;s upload our own template. 
 a. Go to the data explorer and select the FreemarkerTemplate entity.
 b. Click on the <img src="/res/images/add.png?raw=true," alt="add" title="add"> button. In the modal you fill in:<pre><code> * Name: view-entityreport-specific-root_hospital_cities.ftl (view-entityreport-specific-\&lt;Full entity name&gt;.ftl)
 * Value: &quot;\&lt;div&gt;City name: ${entity.get(&#39;cityName&#39;)}\&lt;/div&gt;&quot;
</code></pre> <img src="/res/images/reports/view-entityreport-specific-root_hospital_cities.png?raw=true," alt="view-Cities-entitiesreport" title="view-Cities-entitiesreport"></li>
<li>Repeat steps 2 and 3. </li>
<li>The new view will be: <img src="/res/images/reports/custom-entityreport-view.png?raw=true," alt="View entity report custom" title="Entity view"></li>
</ol>
<h6>Add an instances view tab</h6><ol>
<li>Go to the data explorer select the &quot;cities&quot; entity via the th entity select dropdown.</li>
<li>Let&#39;s upload our own template. 
 a. Go to the data explorer and select the FreemarkerTemplate entity.
 b. Click on the <img src="/res/images/add.png?raw=true," alt="add" title="add"> button. In the modal you fill in:</li>
</ol>
<p>Name: <code>view-Cities-entitiesreport.ftl (view-&lt;template name&gt;-entitiesreport.ftl)</code></p>
<p>Value: </p>
<pre><code class="language-javascript">&lt;link rel=&quot;stylesheet&quot;
      href=&quot;//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.css&quot;/&gt;

&lt;div id=&quot;map&quot; style=&quot;width: 600px; height: 400px&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    function showMap() {
        var map = L.map(&#39;map&#39;).setView([38, -80], 4);

        L.tileLayer(&#39;//api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ&#39;, {
            maxZoom: 18,
            attribution: &#39;Map data &amp;copy; &lt;a href=&quot;http://openstreetmap.org&quot;&gt;OpenStreetMap&lt;/a&gt; contributors, &#39; +
            &#39;&lt;a href=&quot;http://creativecommons.org/licenses/by-sa/2.0/&quot;&gt;CC-BY-SA&lt;/a&gt;, &#39; +
            &#39;Imagery &amp;copy; &lt;a href=&quot;http://mapbox.com&quot;&gt;Mapbox&lt;/a&gt;&#39;,
            id: &#39;mapbox.streets&#39;
        }).addTo(map);

    &lt;#list datasetRepository.iterator() as city&gt;
        L.marker([${city.get(&quot;lat&quot;)},${city.get(&quot;lng&quot;)}]).addTo(map)
                .bindPopup(&quot;${city.get(&quot;cityName&quot;)}&quot;).openPopup();
    &lt;/#list&gt;
    }
    $.getScript(&quot;//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js&quot;, showMap);
&lt;/script&gt;
</code></pre>
<pre><code>    ![view-Cities-entitiesreport](res/images/reports/view-Cities-entitiesreport.png?raw=true, &quot;view-Cities-entitiesreport&quot;)
</code></pre><ol>
<li><p>Click on the settings icon <img src="res/images/settings.png?raw=true," alt="Settings" title="Settings">
 a. Check: Modules -&gt; Data -&gt; Reports -&gt; Yes
 b. Set: Reports -&gt; Reports -&gt; root_hospital_cities:Cities</p>
<pre><code> * root_hospital_cities is the entity name.
 * Cities is the template name.
</code></pre><p> <img src="/res/images/reports/entities-report-correct-settings.png?raw=true," alt="Entities report settings" title="Entities report settings"></p>
</li>
<li>Refresh the page and repeat step 1.</li>
<li>The result:<img src="/res/images/reports/custom-entities-report.png?raw=true," alt="Custom entities report" title="Custom entities report"></li>
</ol>
<h1>Model registry</h1><p>The model registry is a module that can display the entire meta data model of a data set. This means that you do not look at the actual data, but you can see how the data is modelled. This is useful for detecting errors in your model, or if you want to base your own model on something that already exists.</p>
<p><img src="/res/images/model_registry_screen1.png?raw=true," alt="Model registry screen 1" title="model registry screen 1"></p>
<p>The following paragraphs will explain how the model registry works, but it is more fun to learn how it works with some actual models. So for this part, you can go to <a href="https://molgenis08.target.rug.nl/menu/main/standardsregistry">The BioMedBridges</a> website, and navigate to the model registry module, you do not even have to log in!</p>
<p>Now that we have some actual models on our screen, let&#39;s get started by finding some models. I know! Why don&#39;t we search for the EMX model? You should be familiar with it since you probably imported your own data already. In the main model registry screen, search for EMX. You should get one model back, namely emx (Entity Model eXtensible). As you can see there are a few links mentioned as well. These are <em>Tags</em>, if you do not know the term, I suggest you look at the <a href="guide-upload">Upload guide</a> again. The label beneath the Tags tells you why this model was returned for your search.</p>
<p>This part is not telling us much about the content of the EMX model yet, so let&#39;s see what it holds! Click the <em>View Model Details</em> button to get to the details page.</p>
<p><img src="/res/images/model_registry_screen2.png?raw=true," alt="Model registry screen 2" title="model registry screen 2"></p>
<p>Here you can see a tree on the left and a large middle section containing all the meta data. You can also view a UML diagram of your entire package, and even print out a document containing the overview of your model.</p>
<p><strong>The tree</strong><br>The tree is a simplified overview of all the tables, or entities, inside a package. Clicking on the Molgenis Field Types entity for example, will take you to the detailed description of that entity. You can also expand an entity, to see all its attributes. Clicking an attribute will take you to the description of that attribute.</p>
<p><strong>The details</strong><br>The details for every entity and attribute is an overview of data types, constraints, default values, and descriptions. </p>
<p><strong>UML</strong>
Navigate to the UML tab to see a UML representation of your model. You can zoom in and out using the + and - buttons. You can also drag around the different boxes to rearrange the diagram.</p>
<p><strong>Printing</strong>
You can print your model to review it on paper by pressing the print button at the top right of the screen.</p><center><br><i>See something that could be better? <a href="https://github.com/molgenis/molgenis.org/tree/master/public/documentation/guide-explore.md">Edit this page at Github</a></i><br></center></div></div></div></div><footer class="molgenis-docs-footer"><p>MOLGENIS and these docs are maintained by the <a href="http://www.gccgroningen.nl/about-us/people-at-the-gcc/">MOLGENIS team and collaborators</a>. <br/> Documentation source code released under the <a href="/LICENSE-MIT">MIT License</a>, documentation contents under <a href="/LICENSE-CC">CC BY 3.0</a>, and MOLGENIS software code under the <a href="/LICENSE-LGPLv3">LGPLv3 License</a>.<ul class="text-muted"><li>Version 1.8.0</li><li>·</li><li><a href="https://github.com/molgenis/molgenis">MOLGENIS Github</a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis/issues">MOLGENIS Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis.org/tree/master/public">Docs Github    </a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis.org/issues">Docs Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis/releases">Releases</a></li></ul></p></footer><script src="/res/js/prism.js"></script></body></html>