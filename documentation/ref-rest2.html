<!DOCTYPE html><!--[if lt IE 8]><html lang="en" class="ie"><![endif]--><!--[if gt IE 8]><!--><html lang="en"><!--<![endif]--><head><meta charset="utf-8"><title>MOLGENIS - REST api v2</title><meta name="description" content="REST v2 api reference (extensions)"><meta name="author" content="MOLGENIS community"><meta name="handheldfriendly" content="true"><meta name="mobileoptimized" content="320"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta http-equiv="cleartype" content="on"><script src="/res/js/jquery-1.11.3.min.js"> </script><script src="/res/js/bootstrap.min.js"></script><link rel="stylesheet" href="/res/css/prism.css"><link rel="stylesheet" href="/res/css/application.css" type="text/css"><link rel="shortcut icon" href="/favicon.png" type="image/png"><link rel="alternate" type="application/rss+xml" href="/blog/feed.xml" title="undefined"></head><body><header class="molgenis-docs-header"><div role="navigation" class="navbar navbar-fixed-top"><div class="header-container"><div class="navbar-header"><button type="button" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="navbar-brand active"><img src="/res/images/wordmark-blue.png" alt="undefined" class="wordmark"/></a></div><div class="collapse navbar-collapse">              <ul class="nav navbar-nav"><li><a href="/software">TOOLS</a></li><li class="active"><a href="/documentation">DOCUMENTATION</a></li><li><a href="/pipelines">PIPELINES</a></li><li><a href="/develop">DEVELOP</a></li><li><a href="/support">SUPPORT</a></li><li><a href="#searchbox" data-toggle="collapse"><i class="glyphicon glyphicon-search"></i></a></li></ul></div></div></div><div id="searchbox" class="collapse"><form role="search" action="/search-results"><input placeholder="Search" name="q" class="form-control"/></form></div><div class="molgenis-docs-titlebar active"><div class="container"> <h1>REST api v2</h1><p>REST v2 api reference (extensions)   </p></div></div></header><div class="molgenis-docs-body"><div class="container"><div class="row"><div role="complementary" class="col-md-3"><nav id="molgenis-docs-sidebar" class="molgenis-docs-sidebar hidden-print hidden-xs hidden-sm"><ul id="molgenis-docs-sidenav" class="nav molgenis-docs-sidenav"></ul></nav><script>$(function() {
    var sideNav = $("#molgenis-docs-sidenav");
    var index = 0;
    $(".row h1").each(function() {
        
        //create id for h1
        var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
        $(this).prepend("<a name=\""+id+"\"></a>");
        
        //add h1 to list
        var li = $("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>")
        sideNav.append(li);
        
        //wrap h1 into section
        var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
        //wrap parts of h1 into one section
        $(this).parent().nextUntil("h1").each(function(){            
            section.append($(this));
        });
        
        //repeat for h2
        if($("h2",$(this).parent()).length > 0) {
            var ul = $("<ul class=\"nav\"></ul>");
            li.append(ul);
            
            $("h2",$(this).parent()).each(function(){
            
                //create id for h2
                var id = (index++) + $(this).text().replace(/\s/gi,"-").replace(/\W/g,"").toLowerCase();
                $(this).prepend("<a name=\""+id+"\"></a>");
        
                //wrap h2 into section
                var section = $(this).wrap("<section id=\""+id+"\"></section>").parent();
        
                ul.append($("<li><a href=\"#"+id+"\">"+$(this).text()+"</a></li>"));
        
                //wrap parts of h2 into one section
                $(this).parent().nextUntil("h2").each(function(){            
                    section.append($(this));
                });
            

            });
        }
    });    
    
    //add "back to top"
    sideNav.append("<li><a href=\"#top\" style=\"font-size:smaller\">Back to top</a></li>");
    var $body   = $(document.body);
    
    //enable the 'active' highlighting using scrollspy plugin
    $('body').scrollspy({
        target: '#molgenis-docs-sidebar'
    });
    $('#molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
    
    //enable affix
    $('#molgenis-docs-sidebar').affix({
        offset: {
            top: $('#molgenis-docs-sidebar').offset().top,
            bottom: $('.molgenis-docs-footer').outerHeight(true) + 10
        }
    });
    
    //resize affix box when window resizes
    $(window).resize(function () {
            $('.molgenis-docs-sidebar').width($('#molgenis-docs-sidebar').parent().width());
        });
    
    $("table").addClass("table table-bordered");
});</script></div><div role="main" class="col-md-9 contents"><p><strong>
We are expanding and improving the REST api. At its heart is a simplified query syntax called RSQL for collection queries
For query syntax see <a href="https://github.com/jirutka/rsql-parser">RSQL parser</a>. In addition we simplify the reading of entities.
</strong></p>
<h1>Instance</h1><h2>Read instance</h2><table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>attrs</em></td>
<td>Comma-separated string</td>
<td>Defines which fields in the API response to select</td>
</tr>
<tr>
<td><em>_method</em></td>
<td>HTTP method</td>
<td>Tunnel request through defined method over default API operation</td>
</tr>
</tbody>
</table>
<p><em>Request</em></p>
<pre><code>GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;?attrs=attr0
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;?attrs=attr0,attr1
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;?attrs=attr0(subattr0,subattr1),attr1(*)
</code></pre><pre><code>POST http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;?_method=GET
</code></pre><pre><code>POST http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;?_method=GET
attrs=attr0(subattr0,subattr1),attr1(*)
</code></pre><h2>Delete instance</h2><p><em>Request</em></p>
<pre><code>DELETE http://your.molgenis.url/api/v2/&lt;entity_name&gt;/&lt;entity_id&gt;
</code></pre><h1>Query</h1><p>We use the <a href="https://github.com/jirutka/rsql-parser">RSQL</a> HTTP/URL based query language:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>q</em></td>
<td>Query string in RSQL</td>
<td>RSQL query to filter the entity collection response</td>
</tr>
<tr>
<td><em>sort</em></td>
<td>Query string in RSQL</td>
<td>Defines how entity collection response is sorted</td>
</tr>
<tr>
<td><em>attrs</em></td>
<td>Comma-separated string</td>
<td>Defines which fields in the API response to select</td>
</tr>
<tr>
<td><em>start</em></td>
<td>int</td>
<td>Offset in resource collection</td>
</tr>
<tr>
<td><em>num</em></td>
<td>int</td>
<td>Number of resources to retrieve starting at <em>start</em></td>
</tr>
<tr>
<td><em>_method</em></td>
<td>HTTP method</td>
<td>Tunnel request through defined method over default API operation</td>
</tr>
</tbody>
</table>
<pre><code>GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?attrs=attr0
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?attrs=attr0,attr1
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?attrs=attr0(subattr0,subattr1),attr1(*)
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?sort=attr0
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?sort=attr0:asc
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?sort=attr0:desc
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?sort=attr0:desc,attr1
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?start=40&amp;num=20
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?q=attr0==val
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?q=attr0!=val
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?q=attr0!=val;q=attr1=ge=5
</code></pre><h2>Aggregation</h2><p>We also support aggregation of the result query:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>q</em></td>
<td>Query string in RSQL</td>
<td>RSQL query to filter the entity collection response</td>
</tr>
<tr>
<td><em>aggs</em></td>
<td>Aggregation query string in RSQL</td>
<td>Aggregation query to aggregate entities</td>
</tr>
</tbody>
</table>
<p>The aggregation query supports the RSQL selectors &#39;x&#39;, &#39;y&#39; and &#39;distinct&#39; and the RSQL operator &#39;==&#39;. The selector &#39;x&#39; defines the first aggregation attribute name, &#39;y&#39; defines the second aggregation attribute name, &#39;distinct&#39; defines the distinct aggregation attribute name.</p>
<pre><code>GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?aggs=x==attr0
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?aggs=x==attr0;y==attr1
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?aggs=x==attr0;y==attr1;distinct=attr2
GET http://your.molgenis.url/api/v2/&lt;entity_name&gt;?aggs=x==attr0;y==attr1;distinct=attr2&amp;q=attr4==val
</code></pre><h1>Batch</h1><p>When working with larger datasets the RESTv2 api provides batching via the &#39;entities&#39; parameter:</p>
<h2>create</h2><p>To create/add a list of entities into a collection you can POST the &#39;entities&#39; parameter to a collection:</p>
<p><em>Request</em></p>
<pre><code>POST http://your.molgenis.url/api/v2/person
Content-Type: application/json

{entities: [
{
    &quot;age&quot;: &quot;101&quot;,
    &quot;driverslicence&quot;: true
},
{
    &quot;age&quot;: &quot;102&quot;,
    &quot;driverslicence&quot;: true
}
]}
</code></pre><p><em>Response</em></p>
<pre><code>201 Created
</code></pre><p>Body</p>
<pre><code>{
    location: &quot;/api/v2/Person?q=id=in=(&quot;1&quot;,&quot;2&quot;)&quot;
    resources: [{
        href: &quot;/api/v2/Person/1&quot;
    },
    {
        href: &quot;/api/v2/Person/2&quot;
    }]
}

* href: &quot;/api/v2/Person/2&quot; returns a created resource
* location: /api/v2/person/?q=id=in=(1,2) returns all created resources
</code></pre><h2>Update</h2><p>To batch update a list of entities of a collection you can PUT the &#39;entities&#39; parameter to a collection:</p>
<p><em>Request</em></p>
<pre><code>PUT http://your.molgenis.url/api/v2/person
Content-Type: application/json

{entities: [
{
    &quot;id&quot;: 1,
    &quot;age&quot;: &quot;11&quot;,
    &quot;driverslicence&quot;: true
},
{
    &quot;id&quot;: 2,
    &quot;age&quot;: &quot;12&quot;,
    &quot;driverslicence&quot;: true
}
]}
</code></pre><p><em>Response</em></p>
<pre><code>204 No Content
</code></pre><h2>One value</h2><p>If you only want to change one attribute without needing to provide all other attributes:</p>
<p><em>Request</em></p>
<pre><code>PUT http://your.molgenis.url/api/v2/person/age
Content-Type: application/json

{entities: [
{
    &quot;id&quot;: 1,
    &quot;age&quot;: &quot;1&quot;
},
{
    &quot;id&quot;: 2,
    &quot;age&quot;: &quot;2&quot;
}
]}
</code></pre><p><em>Response</em></p>
<pre><code>204 No Content
</code></pre><center><br><i>See something that could be better? <a href="https://github.com/molgenis/molgenis.org/tree/master/public/documentation/ref-rest2.md">Edit this page at Github</a></i><br></center></div></div></div></div><footer class="molgenis-docs-footer"><p>MOLGENIS and these docs are maintained by the <a href="http://www.gccgroningen.nl/about-us/people-at-the-gcc/">MOLGENIS team and collaborators</a>. <br/> Documentation source code released under the <a href="/LICENSE-MIT">MIT License</a>, documentation contents under <a href="/LICENSE-CC">CC BY 3.0</a>, and MOLGENIS software code under the <a href="/LICENSE-LGPLv3">LGPLv3 License</a>.<ul class="text-muted"><li>Version 2.0.0</li><li>·</li><li><a href="https://github.com/molgenis/molgenis">MOLGENIS Github</a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis/issues">MOLGENIS Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis.org/tree/master/public">Docs Github    </a></li><li>·</li><li><a href="http://github.com/molgenis/molgenis.org/issues">Docs Issues</a></li><li>·</li><li><a href="https://github.com/molgenis/molgenis/releases">Releases</a></li></ul></p></footer><script src="/res/js/prism.js"></script></body></html>